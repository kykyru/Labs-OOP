using System;
/* Вариант 6 : Даны натуральные числа n и m. Получить все натуральные
числа, меньшие n, квадрат суммы цифр которых равен m.*/
namespace Lab_2_2
{
    class Program
    {
        static void Main(string[] args)
        {
            int n = 0, m = 0, nCount = 0, sum = 0, buffer = 0, check = 0;
            
            do
            {
                nCount = 1;
                check = 0;

                Console.Clear();

                Console.WriteLine("Bведите два натуральных числа m и n и програма выведет все натуральные числа, меньше n, квадрат суммы цифр которых равен m");
                do
                {
                    if (check > 0) Console.WriteLine($"{n} не натуральное число!");

                    Console.Write("Введите n: ");
                    n = int.Parse(Console.ReadLine());

                    check++;

                } while (n <= 0);
                check = 0;

                do
                {
                    if (check > 0) Console.WriteLine($"{m} не натуральное число!");

                    Console.Write("Введите m: ");
                    m = int.Parse(Console.ReadLine());

                    check++;

                } while (m <= 0);
                check = 0;

                Console.Write("Удовлетворяют условие: ");
                
                for(int i = 0; i < n; i++)
                {
                    buffer = i;

                    while (buffer != 0)
                    {
                        sum += buffer % 10;
                        buffer = buffer / 10;
                    }

                    if (sum * sum == m)
                    {
                        Console.Write(i + " ");
                        check++;
                    }

                    sum = 0;
                }

                if (check == 0) Console.WriteLine("не найдено");

                Console.Write("\n\n\nДля повтора нажмите Enter\nНажмите любую другую клавишу, чтобы выйти...");

            } while (Console.ReadKey().Key == ConsoleKey.Enter);
        }
    }
}
